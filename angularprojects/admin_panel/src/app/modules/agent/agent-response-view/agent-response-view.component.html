<app-layout>
  <div id="emandateshistory-page">
    <div class="main-wrapper">
      <h2>Agent Form</h2>
      <mat-form-field appearance="outline">
        <mat-label>Search Agent by Name</mat-label>
        <input
          matInput
          (selectionchange)="onChange($event)"
          placeholder="Search User by Name"
        />
      </mat-form-field>

      <table mat-table [dataSource]="dataSource" matSort (matSortChange)="announceSortChange($event)"
        class="mat-elevation-z2">
        <!-- paymentid Column -->


        <ng-container matColumnDef="Agent_Name" >
          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by payment_Id" >
           Agent Name
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element && element.createdBy ? element.createdBy : "" }}
          </td>
        </ng-container>
        
        <ng-container matColumnDef="Merchant_Name" >
          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by payment_Id" >
          Merchant Name
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element && element.business_owner_name ? element.business_owner_name : "" }}
          </td>
        </ng-container>


        <!-- invoiceno Column -->

        <ng-container matColumnDef="email_ID">
          <th mat-header-cell mat-sort-header sortActionDescription="Sort by new_due_date" *matHeaderCellDef>
            Email ID
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element && element.email ? element.email : "" }}
          </td>
        </ng-container>
        <ng-container matColumnDef="mob_no">
          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by invoice_no">
           Visit Date
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element && element.gstin? element.gstin : "" }}
          </td>
        </ng-container>

        <ng-container matColumnDef="visit_date">
          <th mat-header-cell mat-sort-header sortActionDescription="Sort by new_due_date" *matHeaderCellDef>
            Mobile Number
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element && element.mobile_number ? element.mobile_number : "" }}
          </td>
        </ng-container>

        <ng-container matColumnDef="preview">
          <th mat-header-cell mat-sort-header sortActionDescription="Sort by new_due_date" *matHeaderCellDef>
            Preview
          </th>
          <td mat-cell *matCellDef="let element">
            <button
            mat-mini-fab
            class="btn-view"
            matTooltip="View Full Details"
            (click)="openDialog(element)"
            aria-label="Example icon button with a delete icon"
          >
            <!-- Change Status -->
            <mat-icon>image</mat-icon>
          </button>
          </td>
        </ng-container>
        

        <!-- transactiondate Column -->
       

        <!-- amount Column -->
       

        <!-- status Column -->
       

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
      <mat-paginator
      [pageSizeOptions]="[10, 20, 50]"
      showFirstLastButtons
      aria-label="Select page of periodic elements"
    >
    </mat-paginator>
    </div>
  </div>
</app-layout>